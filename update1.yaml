id: heritageGraph
name: heritageGraph
description: "A LinkML schema implementing CIDOC-CRM-aligned classes, event-centric patterns, and provenance for Nepal cultural heritage linked open data."
version: 2
imports:
  linkml:types 

prefixes:
  crm: "http://www.cidoc-crm.org/cidoc-crm/"
  linkml: "https://w3id.org/linkml/"
  chlod: "https://cair-nepal.org/heritagegraph/"
  prov: "https://www.w3.org/ns/prov/"

default_prefix: chlod 

classes:
  Cultural_Entity:
    class_uri: crm:E18_Physical_Thing
    description:
    slots:
      # - ArtifactID 
      - Name 
      - Aliases
      - Description
      - Material 
      - Dimension
      # - DateCreated # Removed: Dating must be modeled via a CreationEvent (E12 Production)
      - Condition 
      - DigitalRepresentation 
      - ConditionState

      # Relationships with other classes
      - was_created_by_event 
      - current_location
      - associated_with
      - documented_in
      - belongs_to_period

  Cultural_Association:
    class_uri: chlod:Cultural_Association
    description: "Superclass for Event and Tradition_or_Practice that a Cultural Entity can be associated with"
    slots: 
      - associated_event
      - associated_tradition

  Actor:
    class_uri: crm:E39_Actor
    description:
    slots:
      # PersonID 
      - Name 
      - Aliases
      - BirthDate
      - DeathDate 
      - Occupation 
      - Description

      # Relationship with other class
      - created
      - mentioned_in 
      - participated_in

  Location:
    class_uri: crm:E53_Place 
    description:
    slots:
      # LocationID
      - Name 
      - Coordinates 
      - Type 
      - Description
      - ConditionState
      - currently_holds 

      # Relationships
      - site_of
      - hosted_event
      - belongs_to_period

  Event:
    class_uri: crm:E5_Event
    is_a: Cultural_Association
    description: 
    slots:
      # EventID 
      - Name 
      - Type 
      - timespan 
      - Description 
      - Recurrence
    
      # Relationships
      - has_practice_type
      - occurs_at
      - event_involves
      - associated_cultural_entity
      - documented_in

  Historical_Period:
    class_uri: crm:E4_Period
    description:
    slots:
      # PeriodID
      - Name 
      - timespan
      - Description 

      # Relationship
      - includes_cultural_entity
      - includes_event
      - includes_person

  Tradition_or_Practice:
    class_uri: crm:E28_Conceptual_Object 
    is_a: Cultural_Association
    description: "Represents an Intangible Cultural Heritage item (e.g., skill, ritual, or knowledge)."
    slots:
      # - TraditionID 
      - Name 
      - Type 
      - Description 
      - AssociatedMaterials

      # Relationships
      - uses
      - documented_in
      - tradition_associated_with 

  CreationEvent: # NEW
    class_uri: crm:E12_Production
    description: >
      An event representing the creation or production of a Cultural_Entity.
      This event links the actor, place, time, and resulting artifact.
    slots:
      - Name
      - Description
      - Type
      - timespan
      - carried_out_by
      - took_place_at
      - produced_cultural_entity 

  DataGenerationEvent: # Prov-O new_Activity
    class_uri: crm:E7_Activity
    description: >
      The activity of producing a digital record or data assertion (e.g., transcription,
      digitization, knowledge extraction) from a source document. This class uses PROV-O
      properties to ensure data traceability.
    slots:
      - Name
      - Description
      - data_derived_from
      - data_attributed_to
      - generation_time
      - generated_digital_entity
      - documented_source # Relationship to E31 Source

  Source:
    class_uri: crm:E31_Document
    description: "The original source document or reference used for knowledge extraction (e.g., historical text, field recording, archival photo)."
    slots:
      # SourceID 
      - Name
      - Authors
      - PublicationYear
      - Type 
      - URL_or_DigitalLink
     

      # Relationships
      - documents_cultural_entity
      - documents_event
      - documents_tradition
      - documents_actor
      - documents_historical_period
  
  ### Additional Added
  Material:
    class_uri: crm:E57_Material
    description: >
      Conceptual material used to make artifacts, e.g., gold, brick, resin.
    slots:
      - Name 
      - Description 

  Dimension:
    class_uri: crm:E54_Dimension
    description: >
      Quantifiable property of an object, measured or approximated, e.g., length, height, weight.
    slots: 
      - Value
      - Unit
      - Type 

  ConditionAssesment:
    class_uri: crm:E14_Condition_Assessment
    description: >
      The act of assessing the state of preservation of a Cultural_Entity.
    slots:
      - AssessedObject
      - ConditionState
      - AssessmentDate
      - Assessor

  Occupation:
    class_uri: crm:E55_Type # E55 Type subclass, e.g., "Painter", "Sculptor"
    description: Standardized types for actor roles or professions (e.g., painter, historian, sculptor).

  VisualItem:
    class_uri: crm:E36_Visual_Item
    description: >
      Visual or digital representation of an artifact, such as a photograph, scan, or 3D model.
    slots:
      - RepresentationOf
      - Mode 
      - FileURI

  SpacePrimitive:
    class_uri: crm:E94_Space_Primitive 
    description: Representation of spatial coordinates or geometry for a location.
    slots:
      - Value 
      - CRS

  Type:
    class_uri: crm:E55_Type

  TimeSpan:
    class_uri: crm:E52_Time-Span
    slots:
      - BeginDate
      - EndDate



slots:
  Name:
    slot_uri: crm:P1_is_identified_by
    range: string
    description: Preferred name of the entity (person, artifact, Location, etc.).

  Aliases:
    slot_uri: crm:P1_is_identified_by
    range: string
    multivalued: true 
    description: Alternative names, historical names, or nicknames.

  Description:
    slot_uri: crm:P3_has_note
    range: string 
    description: Notes, biography, or textual description.

  Material:
    slot_uri: crm:P45_consists_of
    range: Material 
    description: The physical materials used to make the artifact.
    multivalued: true 

  Value:
    slot_uri: crm:P90_has_value
    range: integer
    description: Numeric value of the dimension or spacetime.

  Unit:
    slot_uri: crm:P91_has_unit
    range: string
    description: Unit of measurement for the value 

  Type:
    slot_uri: crm:P2_has_type 
    range: Type 
    description: Type of dimension, e.g., maximum linear extent, wingspan, weight.

  Dimension:
    slot_uri: crm:P43_has_dimension
    range: Dimension
    description: Physical dimensions of the artifact
    multivalued: true

  
  AssessedObject:
    slot_uri: crm:P34_concerned 
    range: Cultural_Entity
    description: The artifact whose condition is being assessed.

  ConditionState:
    slot_uri: crm:P35_has_identified
    range: string  # Can later link to a controlled vocabulary or E3 Condition State
    description: The identified condition of the artifact (e.g., good, damaged).

  AssessmentDate:
    slot_uri: crm:P4_has_time-span
    range: string  # Could also link to an Event if we model assessments as events
    description: Date or period of the assessment.

  Assessor:
    slot_uri: crm:P14_carried_out_by
    range: Actor  # Person or group performing the assessment
    description: The person or entity performing the condition assessment.

  Condition:
    slot_uri: crm:P44_has_condition_assessment  # pseudo-property linking Cultural_Entity â†’ E14
    range: ConditionAssesment
    description: Records the condition of the artifact as determined by an assessment.
    multivalued: true

  RepresentationOf:
    slot_uri: crm:P138_represents
    range: Cultural_Entity
    description: The artifact that this visual item represents.

  Mode:
    slot_uri: crm:P138_1_mode_of_representation
    range: string
    description: Mode of representation (e.g., digitization, photo, 3D scan).
  
  timespan:
    slot_uri: crm:P4_has_time-span
    range: TimeSpan

  BeginDate: 
    range: datetime 
    description: The earliest point in time of the Time-Span.

  EndDate: 
    range: datetime 
    description: The latest point in time of the Time-Span.


  FileURI:
    slot_uri: crm:P128_carries
    range: string
    description: URI or file reference for the digital representation.

  DigitalRepresentation:
    range: VisualItem
    multivalued: true
    description: One or more visual/digital representations of the artifact.

  BirthDate:
    slot_uri: crm:P98i_was_born
    range: string
    description: Birth date of the actor.

  DeathDate:
    slot_uri: crm:P100i_died_in
    range: string
    description: Death date of the actor.

  Occupation:
    slot_uri: crm:P2_has_type
    range: Type  
    multivalued: true
    description: Occupation or role of the actor.

  CRS:
    range: string
    description: Coordinate Reference System, e.g., "EPSG:4326".

  Coordinates:
    slot_uri: crm:P168_place_is_defined_by 
    range: SpacePrimitive 
    description: Spatial representation (coordinates, geometry) defining the location.

  
  Recurrence: 
    slot_uri: crm:P2_has_type 
    range: string  # e.g., "annual festival", "weekly" 
    description: Recurrence pattern or frequency of the event.

  AssociatedMaterials:
    slot_uri: crm:P129_is_about 
    range: Material 
    multivalued: true 
    description: Physical objects used or associated with the tradition or practice.

  ## Provenance Slots (PROV-O attributes moved to DataGenerationEvent)
  data_derived_from: 
    slot_uri: prov:wasDerivedFrom
    range: Source 
    multivalued: true
    description: The Source (E31) or data entity from which the digital record or assertion was derived.

  data_attributed_to: 
    slot_uri: prov:wasAttributedTo
    range: Actor
    multivalued: true
    description: The Actor responsible for generating this piece of data/digital record (curator, transcriber, data extraction agent).

  generation_time: 
    slot_uri: prov:generatedAtTime
    range: datetime
    description: Date/time when the digital record or assertion was created.

  generated_digital_entity: 
    slot_uri: prov:generated
    range: string 
    description: URI or PID of the resulting digital entity or knowledge graph record that was generated.


  documented_source: # NEW CRM link
    slot_uri: crm:P70_documents
    range: Source 
    multivalued: true
    description: The original Source (E31) that was documented by the DataGenerationEvent (E7).

  Authors:
    slot_uri: crm:P14_carried_out_by
    range: Actor
    multivalued: true
    description: Actor(s) responsible for creating the source.

  PublicationYear:
    slot_uri: crm:P4_has_time-span
    range: integer
    description: Year the source was published.

  URL_or_DigitalLink:
    slot_uri: crm:P65_shows_visual_item
    range: string
    multivalued: true

  # Creation Event Slots (E12 Production)
  was_created_by_event: 
    slot_uri: crm:P108i_was_produced_by
    range: CreationEvent
    multivalued: true
    description: The production event (E12) that brought this entity into existence.
    
  produced_cultural_entity: 
    slot_uri: crm:P108_was_produced_by 
    range: Cultural_Entity
    description: The artifact that was produced in this event (inverse of P108i).

  carried_out_by: 
    slot_uri: crm:P14_carried_out_by
    range: Actor
    multivalued: true
    description: The Actor who carried out the event (e.g., artist, curator).

  took_place_at: 
    slot_uri: crm:P7_took_place_at
    range: Location
    multivalued: true
    description: The Location where the event took place.


  # Relationships of Cultural Entity with other classes
 

  current_location:
    slot_uri: crm:P55_has_current_location
    range: Location 
    multivalued: true 

  currently_holds:
    slot_uri: crm:P55i_currently_holds
    range: Cultural_Entity   

  associated_with:
    slot_uri: crm:P46_is_composed_of
    multivalued: true 
    range: Cultural_Association

  documented_in:
    slot_uri: crm:P70_documents
    range: Source 
    multivalued: true 
    
  belongs_to_period:
    slot_uri: crm:P4_has_time-span
    range: Historical_Period
    multivalued: false 

  associated_event:
    range: Event
    multivalued: true

  associated_tradition:
    range: Tradition_or_Practice
    multivalued: true

  # Relationships of Actor class with others
  created:
    slot_uri: crm:P14i_performed
    range: Cultural_Entity
    multivalued: true 

  mentioned_in:
    slot_uri: crm:P70_documents
    range: Source 
    multivalued: true 

  participated_in:
    slot_uri: crm:P11_had_participant
    range: Event
    multivalued: true 

  # Relationship of Location with other classes
  site_of:
    slot_uri: crm:P53_has_former_or_current_location
    range: Cultural_Entity
    multivalued: true 

  hosted_event:
    slot_uri: crm:E5_Event
    range: Event
    multivalued: true 

  # Relationship of Event with other classes
  occurs_at:
    slot_uri: crm:P7_took_place_at
    range: Location 
    multivalued: true 

  event_involves:
    slot_uri: crm:P11_had_participant
    range: Actor 
    multivalued: true 

  associated_cultural_entity:
    slot_uri: crm:P12_occurred_in_the_presence_of
    range: Cultural_Entity
    multivalued: true 


  # Relationship of Historical Period with other classes
  includes_cultural_entity:
    slot_uri: crm:P12_occurred_in_the_presence_of  
    range: Cultural_Entity
    multivalued: true

  includes_event:
    slot_uri: crm:P12_occurred_in_the_presence_of 
    range: Event
    multivalued: true
    
  includes_person:
    slot_uri: crm:P12_occurred_in_the_presence_of 
    range: Actor
    multivalued: true

  # Relations of tradition_or_practice
  has_practice_type:
    slot_uri: crm:P2_has_type
    range: Tradition_or_Practice
    multivalued: true

  uses: 
    slot_uri: crm:P45_consists_of
    range: Material 
    multivalued: true 

  tradition_associated_with:
    slot_uri: crm:P129_is_about
    range: Event 
    multivalued: true 

  # Source class 
  documents_cultural_entity:
    slot_uri: crm:P70i_is_documented_in
    range: Cultural_Entity
    multivalued: true

  documents_event:
    slot_uri: crm:P70i_is_documented_in
    range: Event
    multivalued: true

  documents_tradition:
    slot_uri: crm:P70i_is_documented_in
    range: Tradition_or_Practice
    multivalued: true

  documents_actor:
    slot_uri: crm:P70i_is_documented_in
    range: Actor
    multivalued: true
    
  documents_historical_period:
    slot_uri: crm:P70i_is_documented_in
    range: Historical_Period
    multivalued: true